<!DOCTYPE html>
<html dir="ltr" lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
		<title>CardFunc Element Test</title>

		<script type="module" src="./build/cardfunc-element.esm.js"></script>
		<script nomodule src="./build/cardfunc-element.js"></script>
		<link rel="stylesheet" type="text/css" href="https://theme.payfunc.com/ct-light/index.css">

	</head>
	<body>

		<form>
			<cardfunc-element id="cardfunc-element" api-key="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjcwODIiLCJpYXQiOjE1ODE2ODA1NTkxMDYsImF1ZCI6InB1YmxpYyIsInN1YiI6ImRlbW8iLCJhZ2VudCI6InRlc3QiLCJ0eXBlIjoidGVzdCIsImlkIjoiZGVtbyIsIm5hbWUiOiJEZW1vIEFCIiwidXJsIjoiaHR0cDovL2V4YW1wbGUuY29tIiwiZGVzY3JpcHRvciI6ImRlbW8gdHJhbnNhY3Rpb24iLCJjb3VudHJ5IjoiU0UiLCJhY3F1aXJlciI6InB1eHZUZTdwUVlEc1hJbF9NajFHVV81ZGIxb1gwSmJmQ3RYX3RLelIxYTlBUkViTUlvSXhFckRySWZQZHJYd3VoSWRRRFVaVTV0NmpxdGRJUWJQV28yMGlMQ0pyWlhraU9pSXpObVUzTkdFMk9TMDNabVZsTFRSaE16Y3RZbU5rT1MwMllURTBNakl3TWpobVpqTWlMQ0ppYVc0aU9uc2lkbWx6WVNJNklqUXpPRE13T1NJc0ltMWhjM1JsY21OaGNtUWlPaUkxTWpZMU56RWlmWDAiLCJtaWQiOiIxMjM0IiwibWNjIjoiMTIzNCIsImVtdjNkIjoiSG9rcU5wLWdxV05qMGlKUURNaGRFdG5QeTRnaU1kSzhQb0pGTlp5bDZ6azZQLW5kZzNLU3BBVm5Pelc0N1hUMUNjNFYzSjNSN1FWOVFwOXhNUVltV1RvaWJtOHRhMlY1SW4wIn0.F0AvarCg00Zv1yO4e2TBxtWg9WYNMMtVzSdQ3KGSblg"></cardfunc-element>
			<button id="submit" type="button">submit</button>
		</form>
		<script>
			const cardForm = document.getElementById("cardfunc-element")
			const submit = document.getElementById("submit")
			if (cardForm && submit)
				submit.onclick = event => {
					console.log("submit")
					cardForm.submit({ amount: 1337.42, currency: "SEK",  number: "orderno", discriptor: "PayFunc Works" }).then(payment => alert("payed " + JSON.stringify(payment)))
					event.preventDefault()
					event.stopPropagation()
				}
		</script>

	</body>
</html>
