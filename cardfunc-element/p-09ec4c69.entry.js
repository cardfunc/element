import{r as s,c as t,h as i}from"./p-7fe28151.js";import"./p-94c2b65f.js";import{c as e,e as h}from"./p-93a05e9c.js";class r{constructor(i){s(this,i),this.allowed=[],this.editing=void 0,this.change=t(this,"change",7)}get allowedArray(){return this.allowedArrayValue||(this.allowedArrayValue=Array.isArray(this.allowed)?this.allowed:this.allowed.split(" ")),this.allowedArrayValue}get address(){return"string"==typeof this.value&&(this.value=JSON.parse(this.value)),this.value}get addresses(){return e.is(this.address)?{primary:this.address}:Object.assign({},this.address)}onChange(s){if(e.is(s.detail)){this.editing=void 0;const t=s.detail.type;let i;delete s.detail.type,"primary"==t&&e.is(this.address)?i=Object.assign({},s.detail):(i=Object.assign({},this.addresses),i[t]=s.detail),this.change.emit(this.value=i)}}onTrigger(s){if("add"==s.detail.name&&"string"!=typeof this.value){const t=this.addresses,i=e.create("SE"),h=s.detail.value;t[h]=i,this.value=t,this.editing=h}}render(){const s=this.allowedArray.filter(s=>h.is(this.address)?null==this.address[s]:"primary"!=s);return[e.is(this.address)?i("smoothly-address",{editable:this.editable,value:this.address,onChange:s=>this.onChange(s)}):h.map(this.address,(s,t)=>i("smoothly-address",{mode:s==this.editing?"edit":"display",editable:this.editable,type:s,value:t,onChange:s=>this.onChange(s)})),s.map(s=>i("smoothly-trigger",{color:"primary",fill:"clear",name:"add",value:s},"+",s))]}}r.style=".sc-smoothly-addresses-h{display:block}smoothly-trigger.sc-smoothly-addresses{display:inline-block;margin:5px}";export{r as smoothly_addresses}