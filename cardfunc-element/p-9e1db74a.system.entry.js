var __awaiter=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function s(t){try{u(r.next(t))}catch(e){i(e)}}function a(t){try{u(r["throw"](t))}catch(e){i(e)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(t){return function(e){return u([t,e])}}function u(s){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=s[0]&2?o["return"]:s[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;if(o=0,i)s=[s[0]&2,i.value];switch(s[0]){case 0:case 1:i=s;break;case 4:n.label++;return{value:s[1],done:false};case 5:n.label++;o=s[1];s=[0];continue;case 7:s=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){n.label=s[1];break}if(s[0]===6&&n.label<i[1]){n.label=i[1];i=s;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(s);break}if(i[2])n.ops.pop();n.trys.pop();continue}s=e.call(t,n)}catch(a){s=[6,a];o=0}finally{r=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};System.register(["./p-0bb6f924.system.js","./p-ce763cc0.system.js","./p-3ce50918.system.js"],(function(t){"use strict";var e,n,r,o,i,s,a,u,l;return{setters:[function(t){e=t.r;n=t.h;r=t.c;o=t.H},function(t){i=t.e;s=t.c;a=t.u;u=t.d},function(t){l=t.c}],execute:function(){var c=".sc-smoothly-address-display-h{display:block;border-top:1px solid rgb(var(--smoothly-medium-color));border-bottom:1px solid rgb(var(--smoothly-medium-color))}";var f=function(){function t(t){e(this,t)}t.prototype.render=function(){var t=typeof this.value=="string"?JSON.parse(this.value):this.value;return l.SE.is(t)||l.FI.is(t)?[n("address",null,t.street,n("br",null),t.zipCode," ",t.city,n("br",null),i.Name.from("en",t.countryCode))]:n("p",null,"Unknown address country: ",JSON.stringify(t))};return t}();t("smoothly_address_display",f);f.style=c;var p=".sc-smoothly-address-edit-h{display:block;border-top:1px solid rgb(var(--smoothly-medium-color));border-bottom:1px solid rgb(var(--smoothly-medium-color))}[hidden].sc-smoothly-address-edit-h{display:none}form.sc-smoothly-address-edit{display:-ms-flexbox;display:flex;-ms-flex-flow:row;flex-flow:row;-ms-flex-wrap:wrap;flex-wrap:wrap}form.sc-smoothly-address-edit>*.sc-smoothly-address-edit{width:100%}smoothly-input.sc-smoothly-address-edit{border-bottom:1px solid rgb(var(--smoothly-medium-color))}smoothly-input[name=zipCode].sc-smoothly-address-edit{width:calc(30% - 1px)}smoothly-input[name=city].sc-smoothly-address-edit{width:calc(70% - 1px);border-left:1px solid rgb(var(--smoothly-medium-color))}smoothly-submit.sc-smoothly-address-edit,smoothly-trigger.sc-smoothly-address-edit{width:auto;float:right;margin:5px}";var d=function(){function t(t){e(this,t);this.change=r(this,"change",7)}Object.defineProperty(t.prototype,"address",{get:function(){return typeof this.value=="string"?JSON.parse(this.value):this.value},enumerable:false,configurable:true});t.prototype.onTrigger=function(t){if(t.detail.name=="cancel"){this.change.emit(this.address)}};t.prototype.onSubmit=function(t){t.stopPropagation();var e=Object.assign(Object.assign({},t.detail),{countryCode:i.Name.parse(t.detail.country),country:undefined});this.change.emit(e)};t.prototype.render=function(){var t=this;return l.SE.is(this.address)||l.FI.is(this.address)?[n("form",null,n("smoothly-input",{type:"text",name:"street",value:this.address.street},"Street"),n("smoothly-input",{type:"postal-code",name:"zipCode",value:this.address.zipCode},"Zip"),n("smoothly-input",{type:"text",name:"city",value:this.address.city},"City"),n("smoothly-input",{type:"text",name:"country",value:i.Name.from("en",this.address.countryCode)},"Country"),n("div",null,n("smoothly-submit",{color:"primary",fill:"clear",prevent:true,onSubmit:function(e){return t.onSubmit(e)}},"Save"),n("smoothly-trigger",{color:"primary",fill:"clear",name:"cancel"},"Cancel")))]:n("p",null,"Unknown address country: ",JSON.stringify(this.address))};return t}();t("smoothly_address_edit",d);d.style=p;var h=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.State=void 0;var n;(function(t){function e(t){return{value:t.value,selection:{start:t.selection.start,end:t.selection.end}}}t.copy=e})(n=e.State||(e.State={}))}));a(h);var y=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.StateEditor=void 0;var n=function(){function t(t){this.value=t.value;this.selection={start:t.selection.start,end:t.selection.end}}t.prototype.get=function(t){return this.value[t]};t.prototype.is=function(t){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}var r=this.get(t);return e.some((function(t){return r==t}))};t.prototype.isDigit=function(t){var e=this.get(t);return e>="0"&&e<="9"};t.prototype.match=function(t){return this.value.match(t)};t.prototype.replace=function(e,n,r){var o;if(typeof e=="string"&&typeof n=="string"){var i=void 0;o=this;while((i=o.value.search(e))>-1)o=o.replace(i,i+e.length,n)}else if(typeof e=="number"&&typeof n=="number"){var s={value:this.value,selection:{start:this.selection.start,end:this.selection.end}};if(!r)r="";s.value=this.value.slice(0,e)+r+this.value.slice(n,this.value.length);if(this.selection.start>=n)s.selection.start=this.selection.start+r.length-n+e;else if(this.selection.start>e&&this.selection.start<n)s.selection.start=Math.min(this.selection.start,e+r.length);if(this.selection.end>=n)s.selection.end=this.selection.end+r.length-n+e;else if(this.selection.end>e&&this.selection.end<n)s.selection.end=Math.min(this.selection.end,e+r.length);o=new t(s)}return o||this};t.prototype.insert=function(t,e){return this.replace(t,t,e)};t.prototype.append=function(t){return this.insert(this.value.length,t)};t.prototype.prepend=function(t){return this.insert(0,t)};t.prototype.suffix=function(e){return new t({value:this.value+e,selection:this.selection})};t.prototype.delete=function(t,e){var n;if(!this.value)n=this;else if(typeof t=="string"){var r=void 0;n=this;while((r=n.value.search(t))>-1)n=n.delete(r,r+t.length)}else n=this.replace(t,e||t+1,"");return n};t.prototype.truncate=function(t){return this.value.length>=t?this.delete(t,this.value.length):this};t.prototype.pad=function(t,e,n){var r=this;while(t>r.value.length+e.length)r=r.insert(n,e);if(t>r.value.length)r=r.insert(n,e.substring(0,t-r.value.length));return r};t.prototype.padEnd=function(t,e){return this.pad(t,e,this.value.length)};t.prototype.padStart=function(t,e){return this.pad(t,e,0)};t.prototype.map=function(t){var e=this;var n=0;for(var r=0;r<this.value.length;r++){var o=t(this.get(r),r);e=e.replace(n,n+1,o);n+=o.length}return e};t.copy=function(e){return new t(Object.assign({},e))};t.create=function(){return new t({value:"",selection:{start:0,end:0}})};t.modify=function(e){return new t(typeof e=="string"?{value:e,selection:{start:e.length,end:e.length}}:e)};return t}();e.StateEditor=n}));a(y);var m=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.Action=void 0;var n;(function(t){function e(t,e,n){var r=h.State.copy(t.unformat(y.StateEditor.copy(e)));if(n){if(n.key=="ArrowLeft"){r.selection.start-=r.selection.start>0?1:0;if(!n.shiftKey)r.selection.end=r.selection.start}else if(n.key=="ArrowRight"){r.selection.end+=r.selection.end<r.value.length?1:0;if(!n.shiftKey)r.selection.start=r.selection.end}else if(n.key=="Home"){r.selection.start=0;if(!n.shiftKey)r.selection.end=r.selection.start}else if(n.key=="End"){r.selection.end=r.value.length;if(!n.shiftKey)r.selection.start=r.selection.end}else if(n.ctrlKey){switch(n.key){case"a":r.selection.start=0;r.selection.end=r.value.length}}else{if(r.selection.start!=r.selection.end){switch(n.key){case"Delete":case"Backspace":n=undefined;break}r.value=r.value.substring(0,r.selection.start)+r.value.substring(r.selection.end);r.selection.end=r.selection.start}if(n)switch(n.key){case"Unidentified":break;case"Backspace":if(r.selection.start>0){r.value=r.value.substring(0,r.selection.start-1)+r.value.substring(r.selection.start);r.selection.start=--r.selection.end}break;case"Delete":if(r.selection.start<r.value.length)r.value=r.value.substring(0,r.selection.start)+r.value.substring(r.selection.start+1);break;default:if(t.allowed(n.key,r)){r.value=r.value.substring(0,r.selection.start)+n.key+r.value.substring(r.selection.start);r.selection.start=r.selection.end+=n.key.length}}}}return t.format(y.StateEditor.copy(r))}t.apply=e})(n=e.Action||(e.Action={}))}));a(m);var v=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.parse=e.format=e.get=e.add=void 0;var n={};function r(t,e){n[t]=e}e.add=r;function o(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}var o=n[t];return o&&o(e)}e.get=o;function i(t,e){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}var i=o(e,n);return i?i.format(y.StateEditor.modify(i.toString(t))).value:""}e.format=i;function s(t,e){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}var i=o(e,n);return i?i.fromString(i.unformat(y.StateEditor.modify(t)).value):undefined}e.parse=s}));a(v);var g=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(){}t.prototype.toString=function(t){return typeof t=="string"?t:""};t.prototype.fromString=function(t){return typeof t=="string"?t:undefined};t.prototype.format=function(t){return Object.assign(Object.assign({},t),{type:"text",autocomplete:"cc-csc",length:[3,3],pattern:/^\d{3}$/})};t.prototype.unformat=function(t){return t};t.prototype.allowed=function(t,e){return e.value.length<3&&t>="0"&&t<="9"};return t}();v.add("card-csc",(function(){return new n}))}));a(g);var b=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(){}t.prototype.toString=function(t){return Array.isArray(t)&&t.length==2&&typeof t[0]=="number"&&typeof t[1]=="number"?t[0].toString().padStart(2," ")+t[1].toString().padStart(2," "):""};t.prototype.fromString=function(t){return typeof t=="string"&&t.length==4?[Number.parseInt(t.slice(0,2)),Number.parseInt(t.slice(2))]:undefined};t.prototype.format=function(t){var e=t;if(t.value.length>0&&!t.is(0,"0","1"))e=e.prepend("0");if(e.value.length>1)e=e.insert(2," / ");return Object.assign(Object.assign({},e),{type:"text",autocomplete:"cc-exp",length:[7,7],pattern:/^(0[1-9]|1[012]) \/ \d\d$/})};t.prototype.unformat=function(t){return t.delete(" / ")};t.prototype.allowed=function(t,e){return e.value.length<4&&t>="0"&&t<="9"};return t}();v.add("card-expires",(function(){return new n}))}));a(b);var w=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(){}t.prototype.toString=function(t){return typeof t=="string"?t:""};t.prototype.fromString=function(t){return typeof t=="string"?t:undefined};t.prototype.format=function(t){var e=r(t.value);var n=t.map((function(t,n){return t+(n%4==3&&n+1<e.length[0]?" ":"")}));return Object.assign(Object.assign({},n),{type:"text",autocomplete:"cc-number",length:e.length.slice(1),pattern:e.verification,classes:["issuer-"+e.icon]})};t.prototype.unformat=function(t){return t.delete(" ")};t.prototype.allowed=function(t,e){var n=r(e.value);return t>="0"&&t<="9"&&e.value.length<n.length[0]};return t}();v.add("card-number",(function(){return new n}));function r(t){var e=o;for(var n in i)if(i.hasOwnProperty(n)&&i[n].identification.test(t)){e=Object.assign(Object.assign(Object.assign({},o),{name:n}),i[n]);break}return e}var o={name:"unknown",verification:/^\d{19}$/,identification:/^\d/,length:[16,16,19],icon:"generic"};var i={amex:{verification:/^3[47][0-9]{2}\s[0-9]{4}\s[0-9]{4}\s[0-9]{3}$/,identification:/^3[47]/,length:[15,18,18],icon:"amex"},dankort:{verification:/^(5019)\s[0-9]{4}\s[0-9]{4}\s[0-9]{4}$/,identification:/^(5019)\d+/,length:[16,19,19],icon:"generic"},diners:{verification:/^3(?:0[0-5]|[68][0-9])[0-9]\s[0-9]{4}\s[0-9]{4}\s[0-9]{2}$/,identification:/^3(?:0[0-5]|[68][0-9])/,length:[14,17,17],icon:"diners"},discover:{verification:/^6(?:011|5[0-9]{2})\s[0-9]{4}\s[0-9]{4}\s[0-9]{4}$/,identification:/^6(?:011|5[0-9]{2})/,length:[16,19,19],icon:"generic"},electron:{verification:/^((4026|4405|4508|4844|4913|4917)\s[0-9]{4}\s[0-9]{4}\s[0-9]{4})|((4175)\s(00)[0-9]{2}\s[0-9]{4}\s[0-9]{4})$/,identification:/^(4026|417500|4405|4508|4844|4913|4917)/,length:[16,19,19],icon:"generic"},interpayment:{verification:/^(636)[0-9]\s[0-9]{4}\s[0-9]{4}\s[0-9]{4}$/,identification:/^(636)/,length:[16,19,19],icon:"generic"},jcb:{verification:/^((?:2131|1800)\s[0-9]{4}\s[0-9]{4}\s[0-9]{4})|(35[0-9]{2}\s[0-9]{4}\s[0-9]{4}\s[0-9]{4})$/,identification:/^(?:2131|1800|35\d{3})/,length:[16,19,19],icon:"generic"},unionpay:{verification:/^(62|88)[0-9]{2}\s[0-9]{4}\s[0-9]{4}\s[0-9]{4}$/,identification:/^(62|88)/,length:[16,19,19],icon:"generic"},maestro:{verification:/^(5018|5020|5038|5612|5893|6304|6759|6761|6762|6763|0604|6390)\s[0-9]{4}\s[0-9]{4}\s[0-9]{4}$/,identification:/^(5018|5020|5038|5612|5893|6304|6759|6761|6762|6763|0604|6390)/,length:[16,19,19],icon:"maestro"},mastercard:{verification:/^5[1-5][0-9]{2}\s[0-9]{4}\s[0-9]{4}\s[0-9]{4}$/,identification:/^5[1-5][0-9]/,length:[16,19,19],icon:"mastercard"},visa:{verification:/^4[0-9]{3}\s[0-9]{4}\s[0-9]{4}\s[0-9](?:[0-9]{3})?$/,identification:/^4[0-9]/,length:[16,16,19],icon:"visa"}}}));a(w);var k=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(){}t.prototype.toString=function(t){return typeof t=="string"?t:""};t.prototype.fromString=function(t){return typeof t=="string"?t:undefined};t.prototype.format=function(t){return Object.assign(Object.assign({},t),{type:"password",autocomplete:"current-password"})};t.prototype.unformat=function(t){return t};t.prototype.allowed=function(t,e){return true};return t}();v.add("password",(function(){return new n}))}));a(k);var O=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(){}t.prototype.toString=function(t){return t&&typeof t=="number"?(t*100).toString():""};t.prototype.fromString=function(t){return typeof t!="string"||!Number.parseFloat(t)?undefined:Number.parseFloat(t)/100};t.prototype.format=function(t){return Object.assign(Object.assign({},t.value?t.suffix(" %"):t),{type:"text",length:[3,undefined],pattern:/^\d+(.\d)? %+$/})};t.prototype.unformat=function(t){return t.delete(" %")};t.prototype.allowed=function(t,e){return t>="0"&&t<="9"||t=="."&&!e.value.includes(".")};return t}();v.add("percent",(function(){return new n}))}));a(O);var x=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.phonePrefix=void 0;e.phonePrefix=[{countryCode:"+46",areaCodes:["011","0120","0121","0122","0123","0125","013","0140","0141","0142","0143","0144","0150","0151","0152","0155","0156","0157","0158","0159","016","0171","0173","0174","0175","0176","018","019","021","0220","0221","0222","0223","0224","0225","0226","0227","023","0240","0241","0243","0246","0247","0248","0250","0251","0253","0258","026","0270","0271","0278","0280","0281","0290","0291","0292","0293","0294","0295","0297","0300","0301","0302","0303","0304","031","0320","0321","0322","0325","033","0340","0345","0346","035","036","0370","0371","0372","0380","0381","0382","0383","0390","0392","0393","040","0410","0411","0413","0414","0415","0416","0417","0418","042","0430","0431","0433","0435","044","0451","0454","0455","0456","0457","0459","046","0470","0471","0472","0474","0476","0477","0478","0479","0480","0481","0485","0486","0490","0491","0492","0493","0494","0495","0496","0498","0499","0500","0501","0502","0503","0504","0505","0506","0510","0511","0512","0513","0514","0515","0520","0521","0522","0523","0524","0525","0526","0528","0530","0531","0532","0533","0534","054","0550","0551","0552","0553","0554","0555","0560","0563","0564","0565","0570","0571","0573","0580","0581","0582","0583","0584","0585","0586","0587","0589","0590","0591","060","0611","0612","0613","0620","0621","0622","0623","0624","063","0640","0642","0643","0644","0645","0647","0650","0651","0652","0653","0657","0660","0661","0662","0663","0670","0671","0672","0680","0682","0684","0687","0690","0691","0692","0693","0695","0696","08","090","0910","0911","0912","0913","0914","0915","0916","0918","0920","0921","0922","0923","0924","0925","0926","0927","0928","0929","0930","0932","0933","0934","0935","0940","0941","0942","0943","0950","0951","0952","0953","0954","0960","0961","0970","0971","0973","0975","0976","0977","0978","0980","0981","010","020","0378","070","072","073","076","079","0710","0740","0746","0749","0741","0742","0743","0744","0745","0747","075","077","078","0900","0939","0944","0969","099"]}]}));a(x);var S=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(){}t.prototype.toString=function(t){return typeof t=="string"?t:""};t.prototype.fromString=function(t){return typeof t=="string"?t:undefined};t.prototype.format=function(t){var e=t;if(e.value.startsWith("+")){for(var n=0,r=x.phonePrefix;n<r.length;n++){var o=r[n];if(e.value.startsWith(o.countryCode))for(var i=0,s=o.areaCodes;i<s.length;i++){var a=s[i];a=a.substring(1);if(e.value.startsWith(o.countryCode+a)&&!e.value.includes("-"))e=e.insert(o.countryCode.length+a.length,"-")}}}else{var u=x.phonePrefix[0];for(var l=0,c=u.areaCodes;l<c.length;l++){var a=c[l];if(e.value.startsWith(a)&&!e.value.includes("-")){e=e.insert(a.length,"-");e=e.delete(0);e=e.insert(0,u.countryCode)}}}if(e.value.includes("-")){var f=e.value.indexOf("-")+1;var p=e.value.substring(f,e.value.length+1).length;switch(p){case 4:e=e.insert(f+2," ");break;case 5:e=e.insert(f+3," ");break;case 6:e=e.insert(f+2," ");e=e.insert(f+5," ");break;case 7:e=e.insert(f+3," ");e=e.insert(f+6," ");break;case 8:case 9:e=e.insert(f+3," ");e=e.insert(f+7," ")}if(p>9){var d=Math.ceil(p/3)-1;if(d>0){for(var h=0;h<d;h++){var y=h*3+3+h;e=e.insert(y+f," ")}}}}return Object.assign(Object.assign({},e),{type:"text",autocomplete:"tel"})};t.prototype.unformat=function(t){return t.delete(" ").delete("-")};t.prototype.allowed=function(t,e){return t>="0"&&t<="9"||e.selection.start==0&&t=="+"&&!e.value.includes("+")};return t}();v.add("phone",(function(){return new n}))}));a(S);var j=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t){this.country=t}t.prototype.toString=function(t){return typeof t=="string"?t:""};t.prototype.fromString=function(t){return typeof t=="string"?t:undefined};t.prototype.format=function(t){var e=!t.value.includes(" ")&&t.value.length>=4?t.insert(3," "):t;return Object.assign(Object.assign({},e.truncate(6)),{type:"text",autocomplete:"postal-code",length:[6,6],pattern:/^\d{3} \d{2}$/})};t.prototype.unformat=function(t){return t.delete(" ")};t.prototype.allowed=function(t,e){return e.value.length<=5&&t>="0"&&t<="9"};return t}();v.add("postal-code",(function(t){return new n(t&&t.length>0?t[0]:undefined)}))}));a(j);var _=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t){this.currency=t}t.prototype.toString=function(t){return typeof t=="string"?t:""};t.prototype.fromString=function(t){return typeof t=="string"?Number(t):undefined};t.prototype.format=function(t){var e=t.value.includes(".")?t.value.indexOf("."):t.value.length;var n=y.StateEditor.copy(t);var r=!this.currency||u.Currency.decimalDigits(this.currency)==undefined?2:u.Currency.decimalDigits(this.currency);n=n.truncate(e+r+1);var o=e<=0?0:Math.ceil(e/3)-1;for(var i=0;i<o;i++){var s=e-(o-i)*3;n=n.insert(s," ");e++}n=this.currency&&(n.value.length>1||n.value.length==1&&n.value.charAt(0)!=".")?n.suffix(" "+this.currency):n;return Object.assign(Object.assign({},n),{type:"text",length:[3,undefined],pattern:new RegExp("^(\\d{0,3})( \\d{3})*(\\.\\d+)?"+(this.currency?" "+this.currency:"")+"$")})};t.prototype.unformat=function(t){return this.currency?t.delete(" ").delete(""+this.currency):t.delete(" ")};t.prototype.allowed=function(t,e){return t>="0"&&t<="9"||t=="."&&!e.value.includes(".")};return t}();v.add("price",(function(t){return new n(t&&t.length>0?t[0]:undefined)}))}));a(_);var P=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t){this.settings=t}t.prototype.toString=function(t){return typeof t=="string"?t:""};t.prototype.fromString=function(t){return typeof t=="string"?t:undefined};t.prototype.format=function(t){return Object.assign(Object.assign(Object.assign({},t),{type:"text"}),this.settings)};t.prototype.unformat=function(t){return t};t.prototype.allowed=function(t,e){return this.settings.length==undefined||this.settings.length[1]==undefined||e.value.length<this.settings.length[1]};return t}();v.add("text",(function(t){return new n(t||{})}))}));a(P);var E=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.parse=e.format=e.get=void 0;Object.defineProperty(e,"get",{enumerable:true,get:function(){return v.get}});Object.defineProperty(e,"format",{enumerable:true,get:function(){return v.format}});Object.defineProperty(e,"parse",{enumerable:true,get:function(){return v.parse}})}));a(E);var C=s((function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.parse=e.format=e.get=e.StateEditor=e.State=e.Action=void 0;Object.defineProperty(e,"Action",{enumerable:true,get:function(){return m.Action}});Object.defineProperty(e,"State",{enumerable:true,get:function(){return h.State}});Object.defineProperty(e,"StateEditor",{enumerable:true,get:function(){return y.StateEditor}});Object.defineProperty(e,"get",{enumerable:true,get:function(){return E.get}});Object.defineProperty(e,"format",{enumerable:true,get:function(){return E.format}});Object.defineProperty(e,"parse",{enumerable:true,get:function(){return E.parse}})}));a(C);var M=C.get;var D=C.StateEditor;var $=C.Action;var N=".sc-smoothly-input-h{display:block;position:relative}[hidden].sc-smoothly-input-h{display:none}label.sc-smoothly-input{position:absolute;left:.4em;top:.6em;color:rgb(var(--smoothly-text-tint));-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;z-index:-1;-webkit-transition:font-size .1s;transition:font-size .1s;-webkit-transition-timing-function:ease;transition-timing-function:ease}input.sc-smoothly-input{padding:1em .4em .2em .4em;width:calc(100% - 2 * .4em - 2px);background:none;border:0}.has-value.sc-smoothly-input-h>label.sc-smoothly-input{top:.3em;top:.4em;font-size:60%;z-index:0}.sc-smoothly-input-h:focus-within>label.sc-smoothly-input{top:.3em;top:.4em;font-size:60%;z-index:0}input.sc-smoothly-input:focus{outline:none}input.sc-smoothly-input:-webkit-autofill,input.sc-smoothly-input:-webkit-autofill:hover,input.sc-smoothly-input:-webkit-autofill:focus,input.sc-smoothly-input:-webkit-autofill:active{box-shadow:0 0 0 30px unset inset !important;-webkit-box-shadow:0 0 0 30px unset inset !important}input.sc-smoothly-input:-webkit-autofill{-webkit-text-fill-color:unset !important}input.sc-smoothly-input:-internal-autofill-previewed,input.sc-smoothly-input:-internal-autofill-selected,textarea.sc-smoothly-input:-internal-autofill-previewed,textarea.sc-smoothly-input:-internal-autofill-selected,select.sc-smoothly-input:-internal-autofill-previewed,select.sc-smoothly-input:-internal-autofill-selected{background-color:none !important;background-image:none !important;color:unset !important}";var K=function(){function t(t){e(this,t);this.type="text";this.required=false;this.minLength=0;this.maxLength=Number.POSITIVE_INFINITY;this.autocomplete="on";this.disabled=false;this.smoothlyChanged=r(this,"smoothlyChanged",7)}Object.defineProperty(t.prototype,"formatter",{get:function(){var t;switch(this.type){case"price":t=M("price",this.currency);break;default:t=M(this.type);break}return t||M("text")},enumerable:false,configurable:true});t.prototype.valueWatcher=function(t,e){if(this.lastValue!=t){this.lastValue=t;this.state=Object.assign(Object.assign({},this.state),{value:this.formatter.format(D.copy(this.formatter.unformat(D.copy({value:t,selection:this.state.selection})))).value})}if(t!=e)this.smoothlyChanged.emit({name:this.name,value:t})};t.prototype.componentWillLoad=function(){var t=this.formatter;var e=t.toString(this.value)||"";var n=e.length;this.state=t.format(D.copy(t.unformat(D.copy({value:e,selection:{start:n,end:n}}))))};t.prototype.onBlur=function(t){};t.prototype.onFocus=function(t){var e=this.formatter.format(D.copy(this.formatter.unformat(D.copy(Object.assign({},this.state)))));if(t.target)this.updateBackend(e,t.target)};t.prototype.onClick=function(t){var e=t.target;this.state=Object.assign(Object.assign({},this.state),{value:e.value,selection:{start:e.selectionStart!=undefined?e.selectionStart:e.value.length,end:e.selectionEnd!=undefined?e.selectionEnd:e.value.length}});var n=this.formatter.format(D.copy(this.formatter.unformat(D.copy(Object.assign({},this.state)))));this.updateBackend(n,e)};t.prototype.onKeyDown=function(t){if(t.key&&!(t.key=="Unidentified")){var e=t.target;this.state=Object.assign(Object.assign({},this.state),{value:e.value,selection:{start:e.selectionStart!=undefined?e.selectionStart:e.value.length,end:e.selectionEnd!=undefined?e.selectionEnd:e.value.length}});if(!(t.ctrlKey&&t.key=="v")&&t.key.length==1||t.key=="ArrowLeft"||t.key=="ArrowRight"||t.key=="Delete"||t.key=="Backspace"||t.key=="Home"||t.key=="End"){t.preventDefault();this.processKey(t,e)}}};t.prototype.onPaste=function(t){t.preventDefault();var e=t.clipboardData?t.clipboardData.getData("text"):"";var n=t.target;for(var r=0,o=e;r<o.length;r++){var i=o[r];this.processKey({key:i},n)}};t.prototype.onInput=function(t){var e=t.target;var n=e.value;if(n){t.preventDefault();this.processKey({key:"a",ctrlKey:true},e);for(var r=0,o=n;r<o.length;r++){var i=o[r];this.processKey({key:i},e)}}};t.prototype.processKey=function(t,e){var n=$.apply(this.formatter,this.state,t);this.updateBackend(n,e)};t.prototype.updateBackend=function(t,e){if(t.value!=e.value)e.value=t.value;if(e.selectionStart!=undefined&&t.selection.start!=e.selectionStart){e.selectionStart=t.selection.start}if(e.selectionEnd!=undefined&&t.selection.end!=e.selectionEnd){e.selectionEnd=t.selection.end}this.state=t;this.value=this.lastValue=this.formatter.fromString(this.formatter.unformat(D.copy(Object.assign({},this.state))).value)};t.prototype.hostData=function(){var t;return{class:{"has-value":(t=this.state)===null||t===void 0?void 0:t.value}}};t.prototype.__stencil_render=function(){var t=this;return[n("input",{name:this.name,type:this.state.type,placeholder:this.placeholder,required:this.required,autocomplete:this.state.autocomplete,disabled:this.disabled,pattern:this.state.pattern&&this.state.pattern.source,value:this.state.value,onInput:function(e){return t.onInput(e)},onFocus:function(e){return t.onFocus(e)},onClick:function(e){return t.onClick(e)},onBlur:function(e){return t.onBlur(e)},onKeyDown:function(e){return t.onKeyDown(e)},onPaste:function(e){return t.onPaste(e)}}),n("label",{htmlFor:this.name},n("slot",null))]};Object.defineProperty(t,"watchers",{get:function(){return{value:["valueWatcher"]}},enumerable:false,configurable:true});t.prototype.render=function(){return n(o,this.hostData(),this.__stencil_render())};return t}();t("smoothly_input",K);K.style=N;var A=".sc-smoothly-submit-h{display:block;border-width:1px;border-style:solid;border-radius:3px}[hidden].sc-smoothly-submit-h{display:none}[disabled].sc-smoothly-submit-h{opacity:.5}button.sc-smoothly-submit{padding:.2em .3em;font-size:110%;font-weight:400}[processing].sc-smoothly-submit-h{border-color:rgb(var(--smoothly-light-color))}[processing].sc-smoothly-submit-h>button.sc-smoothly-submit{color:rgb(var(--smoothly-light-contrast));background:rgb(var(--smoothly-light-color))}.sc-smoothly-submit-h:not([processing]):not([disabled]):hover,.sc-smoothly-submit-h:not([processing]):not([disabled]):focus,.sc-smoothly-submit-h:not([processing]):not([disabled]):active{border-color:rgb(var(--smoothly-submit-border))}[expand=fill].sc-smoothly-submit-h>button.sc-smoothly-submit,[expand=block].sc-smoothly-submit-h>button.sc-smoothly-submit{width:100%}[expand=fill].sc-smoothly-submit-h{border-left:none;border-right:none}";var z=function(){function t(t){e(this,t);this.disabled=false;this.submitEvent=r(this,"submit",7)}Object.defineProperty(t.prototype,"form",{get:function(){return this.button&&this.button.form||undefined},enumerable:false,configurable:true});t.prototype.handleSubmit=function(t){return __awaiter(this,void 0,void 0,(function(){var e,n,r,o,i,r,o,s;return __generator(this,(function(a){if(!this.processing){this.processing=true;if(this.prevent)t.preventDefault();e={};if(this.form){n=this.form.elements;for(r=0;r<n.length;r++){o=n.item(r);if(I(o)&&o.name)e[o.name]=o.value}i=this.form.getElementsByTagName("smoothly-input");for(r=0;r<i.length;r++){o=i.item(r);if(I(o)&&o.name)e[o.name]=o.value}}s=this.submitEvent.emit(e);console.log("smoothly-submit",s);this.processing=false}return[2]}))}))};t.prototype.submit=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){if(t=!!this.form)this.form.submit();return[2,t]}))}))};t.prototype.render=function(){var t=this;return[n("smoothly-spinner",{active:this.processing}),n("button",{type:"submit",disabled:this.disabled||this.processing,ref:function(e){return t.button=e}},n("slot",null))]};return t}();t("smoothly_submit",z);function I(t){return typeof t.name=="string"&&typeof t.value=="string"}z.style=A}}}));